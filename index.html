<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=, initial-scale=1.0" />
    <title>Income tax calculator</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div id="container">
        <h1>Income tax calculator</h1>
        <br />

        <table>
            <main>
                <tr>
                    <td>
                        <h3><b>Gross Income: </b></h3>
                    </td>
                    <td>
                        <input type="text" class="gross_income" id="gross_income"
                            placeholder="Enter your amount in $"/>
                    </td>
                </tr>

                <tr>
                    <td>
                        <h3><b>Tax withheld: </b></h3>
                    </td>
                    <td>
                        <input type="text" class="tax_withheld" id="tax_withheld"
                            placeholder="Enter your amount in $">
                    </td>
                </tr>
                <tr>
                    <td>
                        <h3><b>Tax Deduction: </b></h3>
                    </td>
                    <td>
                        <input type="text" class="tax_deduction" id="tax_deduction"
                            placeholder="Enter your amount in $"/>
                    </td>
                </tr>


                <tr>
                    <td></td>
                    <td><button onclick="calculate_tax()">Calculate Tax</button></td>
                </tr>
            </main>
        </table>

        <div id="tax"></div>
        <div id="returns"></div>
        <div id="note"></div>
        <div><p>Please enter 0 if you have no amount to enter.</p></div>

    </div>
</body>

<script type="text/javascript">
    function calculate_tax() {
        var gross_income = 0,
            tax_deduction = 0,
            tax = 0,
            returns = 0,
            taxable_income = 0,
            tax_withheld = 0,
            note = 0;

        gross_income = parseFloat(document.getElementById("gross_income").value);

        tax_deduction = parseFloat(
            document.getElementById("tax_deduction").value
        );

        tax_withheld = parseFloat(document.getElementById("tax_withheld").value);

        taxable_income = gross_income - tax_deduction;

        if (taxable_income <= 18200) {
            document.getElementById("tax").innerHTML =
                "Your income is less than 18200, So you dont have to pay tax this year. You will get all the withheld amount &#128512";
            console.log("you dont pay tax");
            tax = 0;
            console.log(tax);
            returns = tax_withheld;
            console.log(returns);
       
        } else if (taxable_income > 18200 && taxable_income <= 45000) {
            tax = (taxable_income - 18200) * 0.19;
            console.log(tax);
            returns = tax_withheld - tax;
            console.log(returns);
            
        } else if (taxable_income > 45000 && taxable_income <= 120000) {
            tax = 5092 + (taxable_income - 45000) * 0.325;
            console.log(tax);
            returns = tax_withheld - tax;
            console.log(returns);
            
        } else if (taxable_income > 120000 && taxable_income <= 180000) {
            tax = 29467 + (taxable_income - 120000) * 0.37;
            console.log(tax);
            returns= tax_withheld - tax;
            console.log(returns);
            
        } else if (taxable_income > 180000) {
            tax = 51667 + (taxable_income - 180000) * 0.45;
            console.log(tax);
            returns = tax_withheld - tax;
            console.log(returns);

        }

        document.getElementById("tax").innerHTML =
                "Your tax amount for this year is: $" + tax.toFixed(2);
                console.log(tax);
                
                if(returns < 0 ) {
                    document.getElementById("returns").innerHTML =
                "Your tax payable for this year is $" + (returns * -1).toFixed(2);
                console.log(returns);

                
                } else{
                    document.getElementById("returns").innerHTML =
                "Your tax return for this year is $" + returns.toFixed(2);
                console.log(returns);
                }


        document.getElementById("note").innerHTML =
                "Disclaimer: This is just an estimation calculation. ";

                
    }
</script>

</html>